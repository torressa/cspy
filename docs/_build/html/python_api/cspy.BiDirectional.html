<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>cspy.BiDirectional &mdash; cspy 1.0.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="cspy.Tabu" href="cspy.Tabu.html" />
    <link rel="prev" title="Resource Extension Functions (REFs)" href="../ref.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            cspy
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how_to.html">Using <cite>cspy</cite></a></li>
<li class="toctree-l1"><a class="reference internal" href="../ref.html">Resource Extension Functions (REFs)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Python API</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">cspy.BiDirectional</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#parameters">Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="#notes">Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cspy.Tabu.html">cspy.Tabu</a></li>
<li class="toctree-l1"><a class="reference internal" href="cspy.GreedyElim.html">cspy.GreedyElim</a></li>
<li class="toctree-l1"><a class="reference internal" href="cspy.GRASP.html">cspy.GRASP</a></li>
<li class="toctree-l1"><a class="reference internal" href="cspy.PSOLGENT.html">cspy.PSOLGENT</a></li>
<li class="toctree-l1"><a class="reference internal" href="cspy.preprocess_graph.html">cspy.preprocess_graph</a></li>
<li class="toctree-l1"><a class="reference internal" href="cspy.check.html">cspy.check</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">C++ API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../cc_api/BiDirectional.html">BiDirectional</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cc_api/Search.html">Search</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cc_api/REFCallback.html">REFCallback</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cc_api/params.html">Params</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cc_api/DiGraph.html">DiGraph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cc_api/Vertex.html">Vertex</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cc_api/Label.html">Labelling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cc_api/preprocessing.html">Preprocessing</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">cspy</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">cspy.BiDirectional</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/python_api/cspy.BiDirectional.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="module-cspy.BiDirectional">
<span id="cspy-bidirectional"></span><h1>cspy.BiDirectional<a class="headerlink" href="#module-cspy.BiDirectional" title="Permalink to this heading"></a></h1>
<p>Python wrapper for the bidirectional labelling algorithm with dynamic
half-way point (<a class="reference external" href="https://www.sciencedirect.com/science/article/pii/S0377221717302035">Tilk 2017</a>).</p>
<div class="section" id="parameters">
<h2>Parameters<a class="headerlink" href="#parameters" title="Permalink to this heading"></a></h2>
<dl>
<dt>G<span class="classifier">object instance <code class="xref py py-class docutils literal notranslate"><span class="pre">nx.Digraph()</span></code></span></dt><dd><p>must have <code class="docutils literal notranslate"><span class="pre">n_res</span></code> graph attribute and all edges must have
<code class="docutils literal notranslate"><span class="pre">res_cost</span></code> attribute.</p>
</dd>
<dt>max_res<span class="classifier">list of floats</span></dt><dd><p><span class="math">[H_F, M_1, M_2, ..., M_{n\_res}]</span> upper bounds for resource
usage (including initial forward stopping point).
We must have <code class="docutils literal notranslate"><span class="pre">len(max_res)</span></code> <span class="math">=</span> <code class="docutils literal notranslate"><span class="pre">len(max_res)</span></code></p>
</dd>
<dt>min_res<span class="classifier">list of floats</span></dt><dd><p><span class="math">[H_B, L_1, L_2, ..., L_{n\_res}]</span> lower bounds for resource
usage (including initial backward stopping point).
We must have <code class="docutils literal notranslate"><span class="pre">len(min_res)</span></code> <span class="math">=</span> <code class="docutils literal notranslate"><span class="pre">len(max_res)</span></code></p>
</dd>
<dt>preprocess<span class="classifier">bool, optional</span></dt><dd><p>enables preprocessing routine. Default : False.</p>
</dd>
<dt>direction<span class="classifier">string, optional</span></dt><dd><p>preferred search direction.
Either “both”, “forward”, or, “backward”. Default : “both”.</p>
</dd>
<dt>method<span class="classifier">string, optional</span></dt><dd><p>preferred method for determining search direction.
Either “generated” (direction with least number of generated
labels), “processed” (direction with least number of processed labels),
or, “unprocessed” (direction with least number of unprocessed labels).
Default: “unprocessed”</p>
</dd>
<dt>time_limit<span class="classifier">float or int, optional</span></dt><dd><p>time limit in seconds.
Default: None</p>
</dd>
<dt>threshold<span class="classifier">float, optional</span></dt><dd><p>specify a threshold for a an acceptable resource feasible path with
total cost &lt;= threshold.
Note this typically causes the search to terminate early.
Default: None</p>
</dd>
<dt>elementary<span class="classifier">bool, optional</span></dt><dd><p>whether the problem is elementary. i.e. no cycles are allowed in the
final path. Note, True increases run time.
Default: False</p>
</dd>
<dt>bounds_pruning<span class="classifier">bool, optional</span></dt><dd><p>whether lower bounds based on shortest paths are used when pruning labels
using primal bounds.
Note this is an experimental feature. See issues.
Default: False</p>
</dd>
<dt>find_critical_res<span class="classifier">bool, optional</span></dt><dd><p>bool with whether critical resource is found at the preprocessing stage.
Note1: this is an experimental feature. See issues.
Note2: overrides critical_res value.
Default false.</p>
</dd>
<dt>critical_res<span class="classifier">int, optional</span></dt><dd><p>Resource index to use as primary resource. Note: corresponding resource
has to fulfil some conditions (e.g. monotonicity). See <a class="reference external" href="https://cspy.readthedocs.io/en/latest/ref.html">REFs</a>.
Default: 0</p>
</dd>
<dt>seed<span class="classifier">None or int, optional</span></dt><dd><p><em>Disabled</em>
seed for random method class. Default : None.</p>
</dd>
<dt>REF_callback<span class="classifier">REFCallback, optional</span></dt><dd><p>Custom resource extension callback. See <a class="reference external" href="https://cspy.readthedocs.io/en/latest/ref.html">REFs</a> for more details.
Default : None</p>
</dd>
<dt>two_cycle_elimination: bool, optional</dt><dd><p>whether 2-cycles should be eliminated for non-elementary RCSPP</p>
</dd>
</dl>
</div>
<div class="section" id="notes">
<h2>Notes<a class="headerlink" href="#notes" title="Permalink to this heading"></a></h2>
<p>The input graph must have a <code class="docutils literal notranslate"><span class="pre">n_res</span></code> attribute equal to the number of resources.
The edges in the graph must all have a <code class="docutils literal notranslate"><span class="pre">res_cost</span></code> attribute (with size equal to  <code class="docutils literal notranslate"><span class="pre">n_res</span></code>).</p>
<p>According to the inputs, four different algorithms can be used.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">direction</span></code> = “forward”: Monodirectional forward labeling algorithm</p></li>
<li><p><span class="math">H_F == H_B</span>: Bidirectional labeling algorithm with static halfway point.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">direction</span></code> = “backward”: Monodirectional backward labeling algorithm</p></li>
<li><p><span class="math">H_F &gt; H_B</span>: Bidirectional labeling algorithm with dynamic halfway point.</p></li>
<li><p><span class="math">H_F &lt; H_B</span>: The algorithm won’t go anywhere!</p></li>
</ul>
<p>Where <span class="math">H_F / H_B</span> are the first elements in the maximum / minimum resources arrays.</p>
</div>
<div class="section" id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this heading"></a></h2>
<p>To run the algorithm, create a <code class="xref py py-class docutils literal notranslate"><span class="pre">BiDirectional</span></code> instance and call
<code class="docutils literal notranslate"><span class="pre">run</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cspy</span> <span class="kn">import</span> <span class="n">BiDirectional</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">networkx</span> <span class="kn">import</span> <span class="n">DiGraph</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">array</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span> <span class="o">=</span> <span class="n">DiGraph</span><span class="p">(</span><span class="n">directed</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">n_res</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="s2">&quot;Source&quot;</span><span class="p">,</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="n">res_cost</span><span class="o">=</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]),</span> <span class="n">weight</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="n">res_cost</span><span class="o">=</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">]),</span> <span class="n">weight</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;C&quot;</span><span class="p">,</span> <span class="n">res_cost</span><span class="o">=</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">]),</span> <span class="n">weight</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="s2">&quot;C&quot;</span><span class="p">,</span> <span class="n">res_cost</span><span class="o">=</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]),</span> <span class="n">weight</span><span class="o">=-</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="s2">&quot;Sink&quot;</span><span class="p">,</span> <span class="n">res_cost</span><span class="o">=</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]),</span> <span class="n">weight</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="s2">&quot;C&quot;</span><span class="p">,</span> <span class="s2">&quot;Sink&quot;</span><span class="p">,</span> <span class="n">res_cost</span><span class="o">=</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">]),</span> <span class="n">weight</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">max_res</span><span class="p">,</span> <span class="n">min_res</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">20</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bidirec</span> <span class="o">=</span> <span class="n">BiDirectional</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">max_res</span><span class="p">,</span> <span class="n">min_res</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bidirec</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">bidirec</span><span class="o">.</span><span class="n">path</span><span class="p">)</span>
<span class="go">[&quot;Source&quot;, &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;Sink&quot;]</span>
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../ref.html" class="btn btn-neutral float-left" title="Resource Extension Functions (REFs)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="cspy.Tabu.html" class="btn btn-neutral float-right" title="cspy.Tabu" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, David Torres Sanchez.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>